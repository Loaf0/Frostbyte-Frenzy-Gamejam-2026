[gd_scene load_steps=12 format=3 uid="uid://ftsnuhls5wsd"]

[ext_resource type="MeshLibrary" uid="uid://d3wtknvgoh1fy" path="res://scenes/Maps/mesh_library.tres" id="1_80rr4"]
[ext_resource type="Script" uid="uid://crg6og7px4wfs" path="res://scripts/camera_follow.gd" id="2_w5xfk"]
[ext_resource type="Shader" uid="uid://b1ol55iylmvh6" path="res://assets/shaders/3dToPixelArt.gdshader" id="3_o1dfr"]
[ext_resource type="PackedScene" uid="uid://bwsnxx2yxc7n8" path="res://scenes/player/PlayerHUD.tscn" id="4_gyb28"]
[ext_resource type="PackedScene" uid="uid://8xkxrvpvt640" path="res://scenes/ui/pause_menu.tscn" id="5_o2cok"]
[ext_resource type="PackedScene" uid="uid://bingtnpi2ysf0" path="res://scenes/player/player.tscn" id="6_expw5"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_w5xfk"]
rough = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_80rr4"]
albedo_color = Color(0, 0, 0, 1)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_d3xlj"]
render_priority = 0
shader = ExtResource("3_o1dfr")
shader_parameter/lightIntensity = 1.25
shader_parameter/lineAlpha = 0.5
shader_parameter/useLighting = true
shader_parameter/lineHighlight = 0.2
shader_parameter/lineShadow = 0.55

[sub_resource type="QuadMesh" id="QuadMesh_bfwb7"]
flip_faces = true
size = Vector2(2, 2)

[sub_resource type="Environment" id="Environment_w5xfk"]
ssao_radius = 0.01
adjustment_enabled = true
adjustment_brightness = 1.1
adjustment_contrast = 0.95
adjustment_saturation = 1.2

[node name="Node3D" type="Node3D"]

[node name="SubViewportContainer" type="SubViewportContainer" parent="."]
process_mode = 3
texture_filter = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_behavior_recursive = 2
stretch = true
stretch_shrink = 3
metadata/_edit_use_anchors_ = true

[node name="SubViewport" type="SubViewport" parent="SubViewportContainer"]
handle_input_locally = false
canvas_item_default_texture_filter = 0
audio_listener_enable_2d = true
audio_listener_enable_3d = true
oversampling = false
size = Vector2i(384, 216)
render_target_update_mode = 4

[node name="GridMap" type="GridMap" parent="SubViewportContainer/SubViewport"]
mesh_library = ExtResource("1_80rr4")
physics_material = SubResource("PhysicsMaterial_w5xfk")
collision_layer = 7
collision_mask = 7
data = {
"cells": PackedInt32Array(65534, 65535, 10, 65532, 65535, 10, 4, 65535, 10, 65531, 65535, 655369, 6, 65535, 655370, 7, 65535, 1441801, 7, 65534, 1441802, 7, 65532, 1441802, 7, 65530, 1441814, 7, 65528, 1441802, 7, 65526, 1441814, 7, 65524, 1441802, 7, 65522, 1441802, 7, 65521, 9, 6, 65521, 10, 4, 65521, 10, 2, 65521, 10, 0, 65521, 10, 65534, 65521, 10, 65532, 65521, 10, 65531, 65521, 1048585, 65531, 65522, 1048586, 65531, 65524, 1048586, 65531, 65528, 1048593, 65531, 65526, 1048598, 65531, 65530, 1048598, 65531, 65532, 1048576, 65531, 65534, 1048576, 1, 65535, 15, 0, 1, 1441792, 2, 1, 1441792, 1, 3, 655375, 4, 3, 655360, 65534, 3, 655360, 65532, 3, 0, 4, 9, 655360, 2, 9, 655360, 0, 9, 655360, 65534, 9, 655360, 65532, 9, 655360, 0, 6, 70, 2, 6, 70, 4, 4, 70, 4, 6, 70, 4, 8, 70, 2, 8, 70, 0, 8, 70, 2, 4, 70, 0, 4, 70, 65534, 4, 70, 65532, 4, 70, 65532, 6, 70, 65534, 6, 70, 65534, 8, 70, 65532, 8, 70, 6, 65534, 655421, 4, 65534, 655421, 2, 65534, 655421, 0, 65534, 655421, 1, 0, 655421, 1, 2, 655421, 65534, 65534, 655421, 65532, 65534, 655421, 65532, 65532, 655421, 65534, 65532, 655421, 0, 65532, 655421, 2, 65532, 655421, 4, 65532, 655421, 6, 65532, 655421, 6, 65530, 655421, 4, 65530, 655421, 2, 65530, 655421, 0, 65530, 655421, 65534, 65530, 655421, 65532, 65530, 655421, 65532, 65528, 655421, 65534, 65528, 655421, 0, 65528, 655421, 2, 65528, 655421, 4, 65528, 655421, 6, 65528, 655421, 6, 65526, 655421, 4, 65526, 655421, 2, 65526, 655421, 0, 65526, 655421, 65534, 65526, 655421, 65532, 65526, 655421, 65532, 65524, 655421, 65534, 65524, 655421, 65532, 65522, 655421, 65534, 65522, 655421, 0, 65522, 655421, 0, 65524, 655421, 2, 65524, 655421, 2, 65522, 655421, 4, 65522, 655421, 6, 65522, 655421, 6, 65524, 655421, 4, 65524, 655421, 5, 9, 1441801, 5, 3, 9, 5, 4, 1441802, 5, 6, 1441802, 5, 8, 1441802, 65531, 8, 1441802, 65531, 4, 1441802, 65531, 6, 1441804, 65530, 3, 655370, 65528, 3, 655370, 65529, 9, 655418, 65529, 12, 1048586, 65529, 14, 1048586, 65525, 14, 1441802, 65525, 12, 1441802, 65526, 3, 655370, 65524, 3, 655370, 65523, 4, 1048586, 65523, 6, 1048586, 65523, 8, 1048586, 65525, 15, 655369, 65529, 15, 1441801, 65523, 3, 1048585, 65523, 11, 655369, 65525, 5, 655418, 65529, 5, 655418, 65525, 9, 655418, 65531, 10, 1048586, 65530, 11, 10, 65529, 11, 1048585, 65531, 11, 1441801, 65527, 13, 655418, 65524, 11, 10, 65525, 11, 9, 65523, 10, 1048586, 65527, 15, 655381, 65526, 15, 655376, 65528, 15, 16, 86, 43, 10, 65527, 8, 12, 65525, 8, 13, 65529, 8, 21)
}

[node name="CSGCombiner3D" type="CSGCombiner3D" parent="SubViewportContainer/SubViewport"]
transform = Transform3D(-1, 0, 8.742278e-08, 0, 1, 0, -8.742278e-08, 0, -1, 9, 0, -5)
use_collision = true

[node name="CSGBox3D" type="CSGBox3D" parent="SubViewportContainer/SubViewport/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 25.499998, 0.69035196, -18.000004)
size = Vector3(16, 0.1, 12)
material = SubResource("StandardMaterial3D_80rr4")

[node name="CSGBox3D2" type="CSGBox3D" parent="SubViewportContainer/SubViewport/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 27.499998, 0.69035196, -22.000004)
size = Vector3(12, 0.1, 12)
material = SubResource("StandardMaterial3D_80rr4")

[node name="CSGBox3D3" type="CSGBox3D" parent="SubViewportContainer/SubViewport/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 25.916014, 0.69035196, -30.000004)
size = Vector3(8.832, 0.1, 12)
material = SubResource("StandardMaterial3D_80rr4")

[node name="Camera3D" type="Camera3D" parent="SubViewportContainer/SubViewport"]
transform = Transform3D(-0.7071068, 0.49999994, -0.49999997, 0, 0.7071068, 0.70710677, 0.7071067, 0.50000006, -0.50000006, -5.6461167, 15.602508, 1.3440151)
projection = 1
size = 15.0
near = 0.001
script = ExtResource("2_w5xfk")
target_path = NodePath("../Player")

[node name="MeshInstance3D" type="MeshInstance3D" parent="SubViewportContainer/SubViewport/Camera3D"]
transform = Transform3D(0.99999994, 0, 0, 0, 0.99999994, 0, 0, 0, 0.99999994, 0, 0, 0)
material_override = SubResource("ShaderMaterial_d3xlj")
extra_cull_margin = 16384.0
mesh = SubResource("QuadMesh_bfwb7")
skeleton = NodePath("../../../../../..")

[node name="PlayerHud" parent="SubViewportContainer/SubViewport" node_paths=PackedStringArray("player") instance=ExtResource("4_gyb28")]
player = NodePath("../Player")

[node name="PauseMenu" parent="SubViewportContainer/SubViewport" instance=ExtResource("5_o2cok")]
offset_right = -127.872
offset_bottom = -71.928

[node name="Player" parent="SubViewportContainer/SubViewport" instance=ExtResource("6_expw5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -18.009407, 1.6607938, 13.2437525)
selected_character = 2

[node name="WorldEnvironment" type="WorldEnvironment" parent="SubViewportContainer/SubViewport"]
environment = SubResource("Environment_w5xfk")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="SubViewportContainer/SubViewport"]
transform = Transform3D(-0.25881904, -0.6830128, 0.68301266, -1.4901163e-08, 0.70710677, 0.7071069, -0.9659259, 0.18301271, -0.1830127, 0, -2.6891937, 0)
shadow_enabled = true
directional_shadow_split_1 = 0.01
directional_shadow_max_distance = 8192.0
