[gd_scene load_steps=14 format=3 uid="uid://c6jfyvqs4jxdj"]

[ext_resource type="Texture2D" uid="uid://1o8c0pu0mn3d" path="res://assets/textures/prototyping/png/Dark/texture_08.png" id="1_o883s"]
[ext_resource type="Shader" uid="uid://b1ol55iylmvh6" path="res://assets/shaders/3dToPixelArt.gdshader" id="1_yi6kq"]
[ext_resource type="Texture2D" uid="uid://dx6tjb8n8uk3d" path="res://assets/textures/prototyping/png/Green/texture_07.png" id="2_yi6kq"]
[ext_resource type="Script" uid="uid://crg6og7px4wfs" path="res://scripts/camera_follow.gd" id="3_erm2j"]
[ext_resource type="PackedScene" uid="uid://bingtnpi2ysf0" path="res://scenes/player/player.tscn" id="4_75nsi"]

[sub_resource type="Environment" id="Environment_o883s"]
ssao_radius = 0.01
adjustment_enabled = true
adjustment_brightness = 1.1
adjustment_contrast = 0.95
adjustment_saturation = 1.2

[sub_resource type="Animation" id="Animation_fud2h"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("SubViewportContainer/SubViewport/World/CSGCombiner3D/CSGBox3D10:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(2, 1.65, -2)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("SubViewportContainer/SubViewport/World/CSGCombiner3D/CSGBox3D9:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(2, 2.25, -1)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("SubViewportContainer/SubViewport/World/CSGCombiner3D/CSGBox3D11:rotation")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, 0, 0)]
}

[sub_resource type="Animation" id="Animation_yksbw"]
resource_name = "loop"
length = 30.0
loop_mode = 1
step = 1.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("SubViewportContainer/SubViewport/World/CSGCombiner3D/CSGBox3D10:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 7.5, 10, 22.5, 25, 30),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 0,
"values": [Vector3(2, 1.65, -2), Vector3(2, 1.65, -2), Vector3(2, 1.65, 0), Vector3(2, 1.65, 0), Vector3(2, 1.65, -2), Vector3(2, 1.65, -2)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("SubViewportContainer/SubViewport/World/CSGCombiner3D/CSGBox3D9:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 12.5, 15.066664, 27.5, 30),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1),
"update": 0,
"values": [Vector3(2, 2.25, -1), Vector3(2, 2.25, -1), Vector3(2, 1.25, -1), Vector3(2, 1.25, -1), Vector3(2, 2.25, -1)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("SubViewportContainer/SubViewport/World/CSGCombiner3D/CSGBox3D11:rotation")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 30),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(0, 0, 0), Vector3(12.566371, 12.566371, 12.566371)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_5peia"]
_data = {
&"RESET": SubResource("Animation_fud2h"),
&"loop": SubResource("Animation_yksbw")
}

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_erm2j"]
albedo_texture = ExtResource("2_yi6kq")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_yi6kq"]
albedo_texture = ExtResource("1_o883s")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_75nsi"]
render_priority = 0
shader = ExtResource("1_yi6kq")
shader_parameter/lightIntensity = 1.25
shader_parameter/lineAlpha = 0.5
shader_parameter/useLighting = true
shader_parameter/lineHighlight = 0.2
shader_parameter/lineShadow = 0.55

[sub_resource type="QuadMesh" id="QuadMesh_o883s"]
flip_faces = true
size = Vector2(2, 2)

[node name="shader_test" type="Node3D"]

[node name="SubViewportContainer" type="SubViewportContainer" parent="."]
texture_filter = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
stretch = true
stretch_shrink = 3

[node name="SubViewport" type="SubViewport" parent="SubViewportContainer"]
handle_input_locally = false
canvas_item_default_texture_filter = 0
audio_listener_enable_2d = true
audio_listener_enable_3d = true
oversampling = false
size = Vector2i(384, 216)
render_target_update_mode = 4

[node name="WorldEnvironment" type="WorldEnvironment" parent="SubViewportContainer/SubViewport"]
environment = SubResource("Environment_o883s")

[node name="AnimationPlayer" type="AnimationPlayer" parent="SubViewportContainer/SubViewport"]
root_node = NodePath("../../..")
libraries = {
&"": SubResource("AnimationLibrary_5peia")
}
autoplay = "loop"

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="SubViewportContainer/SubViewport"]
transform = Transform3D(-0.25881904, -0.6830128, 0.68301266, -1.4901163e-08, 0.70710677, 0.7071069, -0.9659259, 0.18301271, -0.1830127, 0, -2.6891937, 0)
shadow_enabled = true
directional_shadow_split_1 = 0.01
directional_shadow_max_distance = 8192.0

[node name="World" type="Node3D" parent="SubViewportContainer/SubViewport"]

[node name="CSGCombiner3D" type="CSGCombiner3D" parent="SubViewportContainer/SubViewport/World"]
use_collision = true

[node name="CSGCylinder3D" type="CSGCylinder3D" parent="SubViewportContainer/SubViewport/World/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.5, 1, -3.5)
sides = 25
smooth_faces = false
material = SubResource("StandardMaterial3D_erm2j")

[node name="CSGBox3D" type="CSGBox3D" parent="SubViewportContainer/SubViewport/World/CSGCombiner3D"]
size = Vector3(10, 1, 10)
material = SubResource("StandardMaterial3D_yi6kq")

[node name="CSGBox3D2" type="CSGBox3D" parent="SubViewportContainer/SubViewport/World/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2, 0.5, 2)
material_override = SubResource("StandardMaterial3D_erm2j")
size = Vector3(4, 1, 4)
material = SubResource("StandardMaterial3D_erm2j")

[node name="CSGBox3D3" type="CSGBox3D" parent="SubViewportContainer/SubViewport/World/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1, 1.5, 1)
material_override = SubResource("StandardMaterial3D_erm2j")
material = SubResource("StandardMaterial3D_erm2j")

[node name="CSGBox3D11" type="CSGBox3D" parent="SubViewportContainer/SubViewport/World/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 1.6, 2)
material_override = SubResource("StandardMaterial3D_erm2j")
material = SubResource("StandardMaterial3D_erm2j")

[node name="CSGBox3D4" type="CSGBox3D" parent="SubViewportContainer/SubViewport/World/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2, 1.75, 3)
material_override = SubResource("StandardMaterial3D_erm2j")
size = Vector3(1, 1.5, 1)
material = SubResource("StandardMaterial3D_erm2j")

[node name="CSGBox3D5" type="CSGBox3D" parent="SubViewportContainer/SubViewport/World/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3, 1.5, 3)
material_override = SubResource("StandardMaterial3D_erm2j")
material = SubResource("StandardMaterial3D_erm2j")

[node name="CSGBox3D6" type="CSGBox3D" parent="SubViewportContainer/SubViewport/World/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3, 1.25, 2)
material_override = SubResource("StandardMaterial3D_erm2j")
size = Vector3(1, 0.5, 1)
material = SubResource("StandardMaterial3D_erm2j")

[node name="CSGBox3D7" type="CSGBox3D" parent="SubViewportContainer/SubViewport/World/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.5, 1, -4)
material_override = SubResource("StandardMaterial3D_erm2j")
material = SubResource("StandardMaterial3D_erm2j")

[node name="CSGBox3D8" type="CSGBox3D" parent="SubViewportContainer/SubViewport/World/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 1.5, -1)
material_override = SubResource("StandardMaterial3D_erm2j")
size = Vector3(1.5, 2, 1.5)
material = SubResource("StandardMaterial3D_erm2j")

[node name="CSGBox3D9" type="CSGBox3D" parent="SubViewportContainer/SubViewport/World/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 2.25, -1)
material_override = SubResource("StandardMaterial3D_erm2j")
size = Vector3(0.75, 1.5, 0.75)
material = SubResource("StandardMaterial3D_erm2j")

[node name="CSGBox3D10" type="CSGBox3D" parent="SubViewportContainer/SubViewport/World/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, -4.371139e-08, -1, 0, 1, -4.371139e-08, 2, 1.65, -2)
material_override = SubResource("StandardMaterial3D_erm2j")
size = Vector3(0.75, 1, 0.75)
material = SubResource("StandardMaterial3D_erm2j")

[node name="OmniLight3D" type="OmniLight3D" parent="SubViewportContainer/SubViewport/World"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 6.728047, -1.2191589)
omni_range = 3.0

[node name="Camera3D" type="Camera3D" parent="SubViewportContainer/SubViewport"]
transform = Transform3D(-0.7071068, 0.49999994, -0.49999997, 0, 0.7071068, 0.70710677, 0.7071067, 0.50000006, -0.50000006, -4.5, 7.3, -4.8565407)
projection = 1
size = 8.0
script = ExtResource("3_erm2j")

[node name="MeshInstance3D" type="MeshInstance3D" parent="SubViewportContainer/SubViewport/Camera3D"]
transform = Transform3D(0.99999994, 0, 0, 0, 0.99999994, 0, 0, 0, 0.99999994, 0, 0, 0)
material_override = SubResource("ShaderMaterial_75nsi")
extra_cull_margin = 16384.0
mesh = SubResource("QuadMesh_o883s")
skeleton = NodePath("../../../..")

[node name="Player" parent="SubViewportContainer/SubViewport" instance=ExtResource("4_75nsi")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.0094066, 1.6607938, -1.7562479)
mouse_idle_threshold = 1.0
dodge_cooldown = 0.5
